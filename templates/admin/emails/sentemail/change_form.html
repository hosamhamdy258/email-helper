{% extends "admin/change_form.html" %}
{% load i18n admin_urls static %}

{% block submit_buttons_bottom %}

<div class="submit-row">
    {% if show_save_and_send %}
    <input type="submit" value="{% translate 'Save' %}" class="default" name="_save">
    <input type="submit" value="Save and Send Email" name="_send" class="button" style="background: #10b981; border: 1px solid #059669; color: white; font-weight: bold; padding: 10px 15px; cursor: pointer;" {% if original and original.recipient %}
        onclick="return confirm('Are you sure you want to send this email to {{ original.recipient.name }} ({{ original.recipient.email }})?');" {% else %}
        onclick="return confirm('Please make sure you have selected a recipient and filled in all required fields. Send this email?');" {% endif %}>
    {% if show_delete_link and original %}
    <p class="deletelink-box"><a href="{% url opts|admin_urlname:'delete' original.pk|admin_urlquote %}" class="deletelink">{% translate "Delete" %}</a></p>
    {% endif %}
    {% else %}
    {{ block.super }}
    {% endif %}
</div>

{% if show_save_and_send %}
<style>
    .submit-row input[name="_send"]:hover {
        background: #059669 !important;
    }
</style>
{% endif %}
{% endblock %}